<script src="cart.js"></script>

<script>
/* =============================
   PRODUCT DATA
   ============================= */
const products = [
    {
        name: "Plant Base Plate",
        price: 50,
        image: "plantbase.jpg",
        desc: `
            Handcrafted cement moulds to accommodate succulent pot plants.<br>
            Length: 150mm<br>
            Width: 95mm
        `
    },
    {
        name: "Garden Gnome",
        price: 120,
        image: "garden-gnome.png",
        desc: "Charming gnome to add character to your garden."
    },
    {
        name: "Stone Fountain",
        price: 450,
        image: "stone-fountain.png",
        desc: "Elegant stone fountain for a relaxing ambiance."
    },
    {
        name: "Solar Garden Lamp",
        price: 200,
        image: "solar-lamp.png",
        desc: "Eco-friendly solar-powered garden lamp."
    }
];

/* =============================
   RENDER PRODUCTS
   ============================= */
function renderProducts() {
    const container = document.getElementById("products-container");
    if (!container) return;

    container.innerHTML = "";

    products.forEach(product => {
        const card = document.createElement("div");
        card.className = "product-card";

        card.innerHTML = `
            <img src="${product.image}" alt="${product.name}">
            <h3>${product.name}</h3>
            <p>${product.desc}</p>
            <div class="price">R${product.price}</div>

            <div class="qty-box">
                <button class="minus">âˆ’</button>
                <input type="number" value="1" min="1">
                <button class="plus">+</button>
            </div>

            <button class="add-btn">Add to Cart</button>
        `;

        const qtyInput = card.querySelector("input");
        const minusBtn = card.querySelector(".minus");
        const plusBtn = card.querySelector(".plus");
        const addBtn = card.querySelector(".add-btn");

        minusBtn.addEventListener("click", () => {
            if (qtyInput.value > 1) qtyInput.value--;
        });

        plusBtn.addEventListener("click", () => {
            qtyInput.value++;
        });

        addBtn.addEventListener("click", () => {
            if (typeof addToCart !== "function") {
                console.error("Cart system not loaded");
                return;
            }

            addToCart(
                product.name,
                product.price,
                parseInt(qtyInput.value),
                product.image
            );
        });

        container.appendChild(card);
    });
}

/* =============================
   LOAD PRODUCTS
   ============================= */
document.addEventListener("DOMContentLoaded", renderProducts);
</script>
